---



peers: &PEERS
  'bastion101.dev.example.com': '10.7.20.11'
  'gluster101.dev.example.com': '10.7.20.5'
  'gluster102.dev.example.com': '10.7.20.6'
  'core101.dev.example.com': '10.7.20.101'
  'core102.dev.example.com': '10.7.20.102'
  'core103.dev.example.com': '10.7.20.103'
  'core104.dev.example.com': '10.7.20.104'

common_vapp: &COMMON_VAPP
  vdc_name: 'DEV_TEST (IL2-DEVTEST-BASIC)'
  catalog_name: 'CentOS'
  vapp_template_name: 'centos2015-03-31T09:23:39Z'

common_vapp: &COMMON_COREOS_VAPP
  vdc_name: 'DEV_TEST (IL2-DEVTEST-BASIC)'
  catalog_name: 'CoreOS'
  vapp_template_name: 'CoreOS-647.2.0'

common_vars: &COMMON_VARS
  peers:
    <<: *PEERS
  unit_files: []
  cluster: '01'
  metadata:
    - 'dc=corsham'
    - 'role=commons'
    - 'zone=frontend'
    - 'cluster=01'

vm: &COMMON
  hardware_config:
    memory: 4096
    cpu: 2
  bootstrap:
    script_path: 'bootstrap.erb'
    vars:
      <<: *COMMON_VARS
  storage_profile: 'BASIC-Any'

vapps:
  - name: 'bastion101.dev.example.com'
    <<: *COMMON_VAPP
    vm:
      network_connections:
        - name: 'COMMON_DOCKER_SERVICES'
          ip_address: '10.7.20.11'
      metadata:
        group_kubernetes_master_server: true
        group_etcd_servers: true
        group_bastion: true
      <<: *COMMON
  - name: 'core101.dev.example.com'
    <<: *COMMON_COREOS_VAPP
    vm:
      network_connections:
        - name: 'COMMON_DOCKER_SERVICES'
          allocation_mode: 'dhcp'
          mac_address: 00:02:0A:07:14:65
      metadata:
        group_kubernetes_minions_server: true
        group_minion: true
  - name: 'core102.dev.example.com'
    <<: *COMMON_COREOS_VAPP
    vm:
      network_connections:
        - name: 'COMMON_DOCKER_SERVICES'
          allocation_mode: 'dhcp'
          mac_address: 00:02:0A:07:14:66
      metadata:
        group_kubernetes_minions_server: true
        group_minion: true
#  - name: 'core102.dev.example.com'
#    <<: *COMMON_COREOS_VAPP
#    vm:
#      network_connections:
#        - name: 'COMMON_DOCKER_SERVICES'
#          ip_address: '10.7.20.42'
#      metadata:
#        group_kubernetes_minions_server: true
#        group_minion: true
#      <<: *COMMON
#
#  - name: 'core103.dev.example.com'
#    <<: *COMMON_COREOS_VAPP
#    vm:
#      network_connections:
#        - name: 'COMMON_DOCKER_SERVICES'
#          ip_address: '10.7.20.43'
#      metadata:
#        group_kubernetes_minions_server: true
#        group_docker: true
#      <<: *COMMON
#
#  - name: 'gluster101.dev.example.com'
#    <<: *COMMON_VAPP
#    vm:
#      network_connections:
#        - name: 'COMMON_DOCKER_SERVICES'
#          ip_address: '10.7.20.5'
#      metadata:
#        group_docker: true
#        group_glusterfs_servers: true
#      <<: *COMMON
#
#  - name: 'gluster102.dev.example.com'
#    <<: *COMMON_VAPP
#    vm:
#      network_connections:
#        - name: 'COMMON_DOCKER_SERVICES'
#          ip_address: '10.7.20.6'
#      metadata:
#        group_docker: true
#        group_glusterfs_servers: true
#      <<: *COMMON
#
